# 115RenamePlus

修改自 [115RenamePlus]( https://github.com/LSD08KM/115RenamePlus )

## 使用前提

必须在浏览器扩展[Tampermonkey](http://www.tampermonkey.net/)中安装使用。

支持搜索3个站点，需要保证浏览器能正常访问到。（特别是mgstage，需要先访问一次网站，把是否满18岁的提示通过以后，才能正常使用）

## 功能

### 0.8.20 更新说明

- 删除了avmoo改名、avmoo+javbus改名、mgstage改名
- 参照 [115master](https://github.com/cbingb666/115master)中JavDB查询，增加JavDB改名
- JavDB改名支持FC2改名

### 0.8.15 更新说明

- 修复 FC2 分段文件（如 `FC2PPV-4679178-1`、`FC2-PPV-4679178_1`）无法通过 javdb 重命名的问题
- FC2 编号在搜索阶段会先剥离分段，再统一规范为 `FC2-PPV-xxxxx`
- 新增对番号尾部字母分段的识别（如 `STAR-590A`、`ABP-123B`）
- **彻底移除 jQuery 依赖**，改为原生 DOM 实现，避免页面环境变化导致脚本失效
- 补齐 iframe / 网络请求 / 非文件节点等异常兜底，最坏情况不改名但不报错
- 新增 `updateURL` / `downloadURL`，支持脚本自动更新

**格式化视频分段（0.8.11 增强）**：自动识别并统一多种分段格式，包括 CD / DISC / DVD / PART / PT / P / VOL / VOLUME，以及结尾数字或字母分段（如 -1、-02、-A、-B）。无需再手动预处理分段，改名时会自动规范化。

支持多选。

支持 javbus、avmoo、FC2、mgstage、javdb（自动兼容不同编号格式匹配，FC2 分段文件可正常命中）。

### 改名后的格式为

~~编号-4k-C_集数 演员们 标题 发行日~~

编号-CD集数-C-4k 演员们 标题 发行日

例如

```
ABC-123-CD2-C-4k 演员1,演员2 标题 2000-01-01
````

- 编号是网站所显示的标准编号（FC2 会统一规范为 FC2-PPV-xxxxx 格式）
- 原文件名存在多集字符时，例如”CD1”、”HD2”、”FHD3”、”hhb4”，改名后会在编号后加上”-CD集数”
- 原文件名如果有“-4K”、“H264版”、“VP6版”，改名后会在编号后加上"-4k"
- 原文件名如果有“中文字幕”、“-C”、“_C”、“C”，改名后会在编号后加上"-C"

- 多个演员时用,分割。
  - FC2无法获取演员名，获取的是卖家名。
- 在文件名最后加上发行日
